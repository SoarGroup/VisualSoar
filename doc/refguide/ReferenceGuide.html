<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML>
<HEAD>
<TITLE>Visual Soar Reference Guide</TITLE>
</HEAD>

<BODY BGCOLOR="WHITE" TEXT="BLACK">
<H1>Visual Soar Reference Guide</H1>
<TABLE border=0 cellPadding=10 cellSpacing=0>
<TBODY>
   <TR>
      <TD vAlign=top>
         <P align=left><B>How do I... </B></P>
      </TD>
      <TD vAlign=top><B>
         <P align=left>How to do it </B></P>
      </TD>
   </TR>

<!--------------------------- Create New Project ---------------------->
  <TR>
    <TD vAlign=top>
      <P>Create a new project</P></TD>
    <TD vAlign=top>
      <P>To create a new agent, select <B>New Project...</B> in the <B>File</B> 
      menu. A dialog will be presented allowing you to name your new agent and 
      specify the path where the agent files will be stored. </P>
    </TD>
  </TR>

<! --------------------------- Open Existing Project ------------------>
  <TR>
     <TD vAlign=top>
        <P><A NAME=open>Open an existing Project</A></P></TD>
     <TD vAlign=top>
        <P>To open the existing agent, select <B>Open Project...</B> in the 
        <B>File</B> menu. A dialog will be presented allowing you to navigate to 
        the agent file you wish to open. Select that file and click the 
        <B>Open</B> button. </P>
     </TD>
  </TR>

<!-------------------------------- Close A Project -------------------->
   <TR>
      <TD VALIGN="TOP">
         <P>Close a project</P>
      </TD>
      <TD>
         <P>To close a project, select <B>Close Project</B> from the 
         <B>File</B> menu in the main window.</P>
      </TD>
   </TR>

<!---------------------------- Create An Operator Heirarchy ---------->
   <TR>
      <TD vAlign=top>
         <P>Create the operator hierarchy </P>
      </TD>
      <TD vAlign=top>
         <P>To add operators (or files in the case of the elaborations folder) to 
         the operator hierarchy, right-click on the folder node or operator node 
         that you wish to add the operator below. Select <B>Add a 
         Suboperator...</B> A dialog will be presented asking you to name the new 
         operator. If a suboperator is added to a low-level operator (represented 
         with a file node), it becomes a high-level operator, and an elaborations 
         file is created below it. The elaborations file is where non-operator 
         productions relating to the state are stored. </P>
       </TD>
   </TR>
  
<!----------------------------- Edit the Operator Heirarchy ---------->
   <TR>
      <TD vAlign=top>
         <P>Edit the operator hierarchy </P>
      </TD>
      <TD vAlign=top>
         <P>Once the operator hierarchy has been created, nodes can be renamed by 
         right-clicking on the node and selecting <B>Rename...</B> from the context 
         menu. Nodes can also be deleted by right-clicking and selecting 
         <B>Delete</B> from the context menu. </P>
      </TD>
   </TR>

<!----------------------------- Create Rule Files ----------------------->
   <TR>
      <TD vAlign=top>
         <P>Create rule files</P>
      </TD>
      <TD vAlign=top>
         <P>Make sure that an agent file is open, then in the operator hierarchy 
         (the left half of the split pane), right-click on any node which is an 
         operator. In most cases, select <B>Add a Suboperator...</B> from the 
         contextual menu. However, if you right-click on the <B>elaborations</B> 
         node, you should select <B>Add a File...</B> since only rules which are 
         not operators are stored under <B>elaborations</B>. Either way, a dialog 
         will be presented allowing you to name the new operator or file.</P>
      </TD>
   </TR>

<!--------------------------- Edit Rule Files ---------------------------->
   <TR>
      <TD vAlign=top>
         <P><A NAME=editRuleFiles>Edit rule files</A></P>
      </TD>
      <TD vAlign=top>
         <P>Once you have created the rule file you can edit it by right-clicking 
         on its node and selecting <B>Open Rules</B> from the contextual menu. This 
         works both with high-level operators (which are represented in the 
         operator hierarchy by folder nodes) as well as low-level operators and 
         files (which are represened by file nodes). A rule editor window will be 
         opened in the right side of the split pane. </P>
      </TD>
   </TR>

<!---------------------------- Save a rule file -------------------------->
   <TR>
      <TD vAlign=top>
         <P>Save a rule file </P>
      </TD>
      <TD vAlign=top>
         <P>Make sure that the window you wish to save is frontmost, then select 
         <B>Save File</B> from the <B>File</B> menu. It is not necessary to do any 
         naming or file system navigation since this is determined by the structure 
         of the operator hierarchy. </P>
      </TD>
   </TR>

<!--------------------------- Soar Complete ------------------------------>
   <TR>
      <TD VALIGN="TOP">
         <P>Soar Complete</P>
      </TD>
      <TD VALIGN="TOP">
         <P>Visual Soar has the ability to auto-complete (in a unix tab-completion type fashion)  
         certain attribute or values in productions.  To access this feature, start typing in a production
         when you are to a point of entering an attribute name or enumeration value.  Hit <B>ctrl-enter</B>
         to see if VisualSoar can auto-complete the attribute or value for you.  Alternatively, you
         can select <B>Soar Complete</B> from the <B>Soar</B> menu in the rule window.</P>
      </TD>
   </TR>
   

<!-------------------------- Check Rules Against DataMap Content ---------->
   <TR>
      <TD vAlign=top>
         <P>Check rules againt Datamap content </P>
      </TD>
      <TD vAlign=top>
         <P>First make sure that the data map for the rules you want to check is 
         complete (See <A href=#createDataMaps>Create DataMaps</A>). Select <B>Check 
         Productions Against DataMap</B> from the <B>Soar</B> menu. Any errors will be 
         reported in the feedback window, where double-clicking will take you to the 
         point of the error. </P>
      </TD>
   </TR>

<!--------------------------- Save All Rule Files ------------------------>
   <TR>
      <TD vAlign=top>
         <P>Save all rule files </P>
      </TD>
      <TD vAlign=top>
         <P>Select <B>Save</B> from the <B>File</B> menu in the main window. </P>
      </TD>
   </TR>
   <TR>

<!----------------------------- Create a DataMap -------------------------->
      <TD vAlign=top>
         <P><A name=createDataMaps>Create DataMaps </A></P>
      </TD>
      <TD vAlign=top>
         <P>DataMaps do not need to be created explicitly since they are created by 
         Visual Soar when the project is created, or when new high-level operators
         are created. A DataMap is a representation of the range of possibilities 
         for working memory. Any structure that an agent's productions create or
         test against should be present in the appropriate DataMap. 
         To open the DataMap, right-click on either the root node (the 
         topmost one, which is named for the agent) or any other high-level 
         operator in the operator hierarchy. Select <B>Open Datamap</B> from the
         contextual menu. </P>
       </TD>
   </TR>

<!--------------------------- Edit DataMaps ------------------------------->
   <TR>
      <TD vAlign=top>
         <P><A name=Edit_DataMaps>Edit DataMaps </A></P></TD>
      <TD vAlign=top>
         <P>First, open the data map as you did when you first created it. 
         Initially, the data map will have a root node with the name of the state 
         it pertains to. From this point, right click on the root node and select
         one of the five different types of Working Memory Elements to add. They
         are: <B>Add Identifier...</B>, <B>Add Enumeration...</B>, <B>Add Integer...</B>, 
         <B>Add Float...</B> and <B>Add String...</B>. You will be prompted to give the 
         attribute a name and specify any constraints for the WME's value. Keep in
         mind that only Identifiers may have other WMEs as their values. Therefore,
         only Identifier nodes may have children. 
         </P>
         <P>Note: Working Memory Elements are triples of identifer-attribute-value. 
         The identifer is implict, because it was one that you right-clicked on, so 
         now you are specifying the attribute-value pair. If you want the value to 
         be equivalent to another one in Working Memory see <A 
         href="#LINKING">Linking 
         Values</A>.</P>
         <P>After creating the desired structures in the data map, it can be edited 
         by right-clicking on nodes to produce a context menu. From the context 
         menu, attributes can be renamed by selecting the <B>Rename Attribute...</B> item, or 
         deleted by selecting the <B>Delete Attribute...</B> item. The value can be edited 
         if possible by selecting <B>Edit Value(s)...</B>.</P>
      </TD>
   </TR>

<!-------------------------------------- Linking Values ---------------------------->
   <TR>
      <TD vAlign=top>
         <P><A name=LINKING>Linking Values </A></P>
      </TD>
      <TD vAlign=top>
         <P>Attributes can be linked by ctrl-shift dragging attribute-values to the 
         desired place in the datamap. If a link is made to a primitive WME (anything
         besides an Identifier) it's behavior is the same as making an independent copy.
         However, if a link is made to an identifier, the name of the link and original
         node will be intependent, but their children will be shared.</P>
       </TD>
   </TR>

<!-------------------------------------- Source an agent into the TSI -------------->
   <TR>
      <TD vAlign=top>
         <P>Source an agent into the TSI </P>
      </TD>
      <TD vAlign=top>
         <P>Visual Soar trys its best to make sure every rule file in the project
         gets source'd into the TSI if you point it at your &lt;agent&gt;.soar file that
         exists at the same directory level as your &lt;agent&gt;.vsa file.  If
         for some unexplained reason the source-ing gets out of date, or is wrong. 
         Select <B>Save</B> from the <B>File</B> menu in the main window.  To bring
         it up to date.</P>
      </TD>
    </TR>

<!------------------------------------ Exit Visual Soar ----------------------------->
   <TR>
      <TD vAlign=top>
         <P>Exit VisualSoar </P>
      </TD>
      <TD vAlign=top>
         <P>Select <B>Exit</B> from the <B>File</B> menu. </P>
      </TD>
   </TR>

<!------------------------------------ Find a String of Text ----------------------->
   <TR>
      <TD vAlign=top>
         <P>Find a text string </P>
      </TD>
      <TD vAlign=top>
          <P>If you wish to search a specific file, open that file (see 
          <A HREF=#editRuleFiles>Edit Rule Files</A>) and select 
          <B>Find...</B> from the <B>Search</B> menu. Either way, 
          a dialog will be presented which will allow you to choose the string to 
          seach for, as well as several searching options. Additionally, for a 
          file-specific search, <B>Find Again</B> in the <B>Search</B> menu can be 
          used to repeat the previous search. </P>
       </TD>
   </TR>

<!----------------------------------- Replace A Text String ---------------------->
   <TR>
      <TD vAlign=top>
         <P>Replace a text string </P>
      </TD>
      <TD vAlign=top>
         <P>Basically just like doing a find, except the dialog will contain an 
         additional field in which you can enter the string for the replacement. 
         Replacements can be done one at a time, or for the entire document. 
         </P>
      </TD>
   </TR>

<!------------------------------------ Find a String of Text in a Project ------->
   <TR>
      <TD VALIGN="TOP">
         <P>Find a string in the project</P>
      </TD>
      <TD VALIGN="TOP">
         <P>If you want to all instances of a string in your files, select
         <B>Find In Project...</B> from the <B>Search</B> menu in the main window.
         Type in the string you wish to find and click on <B>Find</B>.
      </TD>
    </TR>

<!------------------------------------ Linking Operator ------------------------>
   <TR>
     <TD VALIGN="TOP">
        <P>Link an operator</P>
     </TD>
     <TD VALIGN="TOP">
        <P>First off, what does it mean for an operator to be linked?  A linked operator
        is one that produces a new state, but does not define the behavior for that 
        state, because the behavior of that substate is defined elsewhere in the system.
        But, the linked operator does have it's own set of proposals.  How you link operators is
        by selecting a high-level operator that you want to link and drag it with the link action
        (ctrl-shift) to the parent of where you want the new linked operator to go.  Only high-level
        operators can be linked.
     </TD>
   </TR>

<!---------------------------------- Moving Operators ------------------------->
  <TR>
     <TD VALIGN="TOP">
        <P>Move an operator</P>
     </TD>
     <TD VALIGN="TOP">
        <P>To move an operator, select an operator you wish to move, then drag it and drop
        it onto the new desired parent.  If the operator was high-level, it's view of the 
        datamap is updated so that the superstate will point to the new superstate, but
        all other links are unchanged.  It is your reponsibility as the user to update
        the links as needed.
        </P>
     </TD>
  </TR>

<!-------------------------------- Exporting Operators ---------------------->
  <TR>
    <TD VALIGN="TOP">
       <P>Export an operator</P>
    </TD>
    <TD VALIGN="TOP">
       <P>To export an operator, select the operator you wish to export from.  That
       operator and its children will be exported and can be imported into another
       project.  Linked operators cannot be exported and thus are converted to
       low-level operators.  Right-click on the parent and select <B>Export</B>.
       The exported operators are placed in a file called &lt;operator-name&gt;.vse.</P>
    </TD>
   </TR>

<!------------------------------- Importing Operators ----------------------->
   <TR>
      <TD VALIGN="TOP">
         <P>Import an operator</P>
      </TD>
      <TD VALIGN="TOP">
         <P>To import operators that you exported from another project.  Select the
         parent of where the new set of operators will be imported from.  Right-click
         on the parent and select <B>Import</B> from the context menu.  Select the .vse
         file that was produced from the export and click on <B>Open</B>.</P>
         <P>Note: to guarentee the imported operators will work in the new system the
         features from the old datamap are associated with operators.  It is your
         responsibility to update the features from the operators old datamap to features
         of the new datamap.
      </TD>
   </TR>

<!----------------------------- Check Children Against DataMap ------------->
    <TR>
       <TD VALIGN="TOP">
          <P>Check Children Against the Datamap</P>
       </TD>
       <TD VALIGN="TOP">
          <P>To check all the children productions against the DataMap, right-click
          on the parent and select <B>Check Children Against Datamap</B>.
          </P>
       </TD>
    </TR>

<!--------------------------- Check All Productions Against DataMap -------->
   <TR>
      <TD VALIGN="TOP">
         <P>Check All Productions Against the DataMap</P>
      </TD>
      <TD VALIGN="TOP">
         <P>To check all the productions against the DataMap, select 
         <B>Check All Productions Against DataMap</B> from the main window.
         Note: files and operators with names starting with a &quot;_&quot; 
         will not be checked against the DataMap.
         </P>
       </TD>
    </TR>

<!------------------------- Edit Your Preferences ------------------------->
   <TR>
      <TD VALIGN="TOP">
         <P><A NAME="EDIT_PREF">Edit Your Preferences</A></P>
      </TD>
      <TD VALIGN="TOP">
         <P>Certain aspects of visual soar's behavior can be changed, how you
         change them is by selecting <B>Preferences...</B> from the <B>Edit</B>
         menu in the main window</P>

         <P>Preferences currently control 
         <ul>
            <li>where to look for templates
            <li>window tiling options
            <li>syntax hi-lighting options
            <li>along with other features
        </ul>
        </P>
      </TD>
   </TR>

<!------------------------ Insert A Template ----------------------------->
   <TR>
      <TD VALIGN="TOP">
         <P>Insert A Template</P>
      </TD>
      <TD VALIGN="TOP">
         <P>Templates are general layouts for common productions.  Templates
         are just files in which $operator$ and $super-operator$ are replaced 
         with the corresponding current operator name and super-operator name.
         You can insert a template by selecting the template from the <B>Insert
         Template</B> menu in the rule editor.  If you don't see the desired template
         or any templates at all, check the template folder in the your 
         <A HREF="#EDIT_PREF">preferences</A>.
      </TD>
   </TR>

<!---------------------- Copy or Move Attribute-values in the DataMap ----->
   <TR>
      <TD VALIGN="TOP">
         <P>Copy or Move Attribute-Values in the DataMap</P>
      </TD>
      <TD>
        <P>You can copy or move one attribute selecting an attribute value
        and dragging (move) or ctrl-dragging (copy) to its new parent.</P>
        <P>Note: Contigous features can be copied onto the clipboard and
        pasted onto a new parent through the <B>Edit</B> menu in the
        datamap window. The semantics of this operation are slightly 
        different than the dragging copy for identifiers, for which a 
        new identifier is created.  Whether this is a bug or not has
        yet to be determined.</P>
      </TD>
   </TR>

</TBODY>

</TABLE>

</BODY>

</HTML>
